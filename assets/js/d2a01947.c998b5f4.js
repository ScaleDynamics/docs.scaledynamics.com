"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1918],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,y=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(y,l(l({ref:t},u),{},{components:n})):r.createElement(y,l({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7294),a=n(6010);const o="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return r.createElement("div",{role:"tabpanel",className:(0,a.Z)(o,l),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(7462),a=n(7294),o=n(6010),l=n(2389),i=n(7392),s=n(7094),c=n(2466);const u="tabList__CuJ",p="tabItem_LNqP";function d(e){var t;const{lazy:n,block:l,defaultValue:d,values:m,groupId:y,className:b}=e,v=a.Children.map(e.children,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})),f=m??v.map((e=>{let{props:{value:t,label:n,attributes:r}}=e;return{value:t,label:n,attributes:r}})),h=(0,i.l)(f,((e,t)=>e.value===t.value));if(h.length>0)throw new Error(`Docusaurus error: Duplicate values "${h.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`);const g=null===d?d:d??(null==(t=v.find((e=>e.props.default)))?void 0:t.props.value)??v[0].props.value;if(null!==g&&!f.some((e=>e.value===g)))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${g}" but none of its children has the corresponding value. Available values are: ${f.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);const{tabGroupChoices:k,setTabGroupChoices:w}=(0,s.U)(),[E,O]=(0,a.useState)(g),C=[],{blockElementScrollPositionUntilNextRender:T}=(0,c.o5)();if(null!=y){const e=k[y];null!=e&&e!==E&&f.some((t=>t.value===e))&&O(e)}const N=e=>{const t=e.currentTarget,n=C.indexOf(t),r=f[n].value;r!==E&&(T(t),O(r),null!=y&&w(y,String(r)))},j=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{const t=C.indexOf(e.currentTarget)+1;n=C[t]??C[0];break}case"ArrowLeft":{const t=C.indexOf(e.currentTarget)-1;n=C[t]??C[C.length-1];break}}null==(t=n)||t.focus()};return a.createElement("div",{className:(0,o.Z)("tabs-container",u)},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":l},b)},f.map((e=>{let{value:t,label:n,attributes:l}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:E===t?0:-1,"aria-selected":E===t,key:t,ref:e=>C.push(e),onKeyDown:j,onFocus:N,onClick:N},l,{className:(0,o.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":E===t})}),n??t)}))),n?(0,a.cloneElement)(v.filter((e=>e.props.value===E))[0],{className:"margin-top--md"}):a.createElement("div",{className:"margin-top--md"},v.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==E})))))}function m(e){const t=(0,l.Z)();return a.createElement(d,(0,r.Z)({key:String(t)},e))}},166:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>c,toc:()=>p});var r=n(7462),a=(n(7294),n(3905)),o=n(5488),l=n(5162);const i={id:"cicd",title:"Continuous Integration & Delivery (CI/CD)",sidebar_label:"CI/CD"},s=void 0,c={unversionedId:"containers/cicd",id:"containers/cicd",title:"Continuous Integration & Delivery (CI/CD)",description:"This page is an agnostic overview of how to use our platform to build and deploy your project with a platform like GitHub Actions or GitLab CI. This will give you keys to create the perfect script to deploy your project. There is an example for GitHub Actions and GitLab CI at the end of this page.",source:"@site/docs/containers/cicd.mdx",sourceDirName:"containers",slug:"/containers/cicd",permalink:"/docs/containers/cicd",draft:!1,tags:[],version:"current",frontMatter:{id:"cicd",title:"Continuous Integration & Delivery (CI/CD)",sidebar_label:"CI/CD"},sidebar:"mainSidebar",previous:{title:"Environment variables",permalink:"/docs/containers/env-variables"},next:{title:"Metrics",permalink:"/docs/metrics/"}},u={},p=[{value:"Environment variables",id:"environment-variables",level:2},{value:"Login",id:"login",level:2},{value:"Deploy",id:"deploy",level:2},{value:"Other",id:"other",level:2},{value:"Example",id:"example",level:3}],d={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"This page is an agnostic overview of how to use our platform to build and deploy your project with a platform like GitHub Actions or GitLab CI. This will give you keys to create the perfect script to deploy your project. There is an ",(0,a.kt)("a",{parentName:"p",href:"#example"},"example")," for GitHub Actions and GitLab CI at the end of this page."),(0,a.kt)("h2",{id:"environment-variables"},"Environment variables"),(0,a.kt)("p",null,"First of all, you need to define the environment variables you need to deploy successfully your project. You need at least two values to use them with the CLI:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"your project's name"),(0,a.kt)("li",{parentName:"ul"},"your project's environment")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"env:\n  ORG_PROJECT: my-project\n  DEPLOY_ENV: test\n")),(0,a.kt)("h2",{id:"login"},"Login"),(0,a.kt)("p",null,"To deploy, you need to be connected to your ScaleDynamics account. The easiest way to do it with a CI is to use an API key. You can create one in the API key section of your organization in the ",(0,a.kt)("a",{parentName:"p",href:"https://scaledynamics.com/console"},"ScaleDynamics console"),"."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"The API key require Administrator rights.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: Connection to ScaleDynamics\n  run: npx warp login --api-key=${{ secrets.SCALEDYNAMICS_API_KEY }}\n")),(0,a.kt)("h2",{id:"deploy"},"Deploy"),(0,a.kt)("p",null,"To deploy your project, you need to use the environment variables defined earlier and use it with the CLI."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: Deploy application\n  run: npx warp deploy --project ${ORG_PROJECT} --env ${DEPLOY_ENV}\n")),(0,a.kt)("h2",{id:"other"},"Other"),(0,a.kt)("p",null,"You can pretty much add anything else you need to do with your project. Add unit tests, build your project if needed, lint your code, etc."),(0,a.kt)("h3",{id:"example"},"Example"),(0,a.kt)(o.Z,{groupId:"cicd-example",mdxType:"Tabs"},(0,a.kt)(l.Z,{value:"github",label:"GitHub",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"name: deploy\n\n    # Controls when the workflow will run\n    on:\n      # Allows you to run this workflow manually from the Actions tab\n      workflow_dispatch:\n\n    # A workflow run is made up of one or more jobs that can run sequentially or in parallel\n    jobs:\n      deploy:\n        runs-on: ubuntu-latest\n        env:\n          ORG_PROJECT: my-project\n          DEPLOY_ENV: test\n        steps:\n          - uses: actions/checkout@v2\n\n          - name: Install dependencies application\n            run: npm ci\n\n          # Create an API key in the console and use it for connection (you can add it as a secret)\n          - name: Connection to ScaleDynamics\n            run: npx warp login --api-key=${{ secrets.SCALEDYNAMICS_API_KEY }}\n\n          - name: Build project\n            run: npm run build\n\n          - name: Deploy application\n            run: npx warp deploy --project ${ORG_PROJECT} --env ${DEPLOY_ENV} --force\n"))),(0,a.kt)(l.Z,{value:"gitlab",label:"GitLab",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"image: node:lts\n\nstages:\n  - deploy\n\ndeploy-project:\n  stage: deploy\n  variables:\n    ORG_PROJECT: my-project\n    DEPLOY_ENV: test\n  environment:\n    name: test\n  script:\n    - npm ci\n    - npx warp login --api-key=${SCALEDYNAMICS_API_KEY}\n    - npm run build\n    - npx warp deploy --project=${ORG_PROJECT} --env=${DEPLOY_ENV}\n  when: manual\n")))))}m.isMDXComponent=!0}}]);