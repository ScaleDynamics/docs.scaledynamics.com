"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7096],{3905:(e,n,t)=>{t.d(n,{Zo:()=>m,kt:()=>y});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)t=a[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var c=o.createContext({}),s=function(e){var n=o.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},m=function(e){var n=s(e.components);return o.createElement(c.Provider,{value:n},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=s(t),d=r,y=u["".concat(c,".").concat(d)]||u[d]||p[d]||a;return t?o.createElement(y,l(l({ref:n},m),{},{components:t})):o.createElement(y,l({ref:n},m))}));function y(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,l=new Array(a);l[0]=d;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var s=2;s<a;s++)l[s]=t[s];return o.createElement.apply(null,l)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},6534:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>s});var o=t(7462),r=(t(7294),t(3905));const a={id:"custom-domains",title:"Custom domains"},l=void 0,i={unversionedId:"containers/custom-domains",id:"version-5.0.2/containers/custom-domains",title:"Custom domains",description:"The platform provides you test urls running on scaledynamics.site, or scaledynamics.cloud.",source:"@site/versioned_docs/version-5.0.2/containers/custom-domains.md",sourceDirName:"containers",slug:"/containers/custom-domains",permalink:"/docs/5.0.2/containers/custom-domains",draft:!1,tags:[],version:"5.0.2",frontMatter:{id:"custom-domains",title:"Custom domains"},sidebar:"mainSidebar",previous:{title:"Moving containers",permalink:"/docs/5.0.2/containers/move"},next:{title:"Password protection",permalink:"/docs/5.0.2/containers/password-protection"}},c={},s=[{value:"1. Create a new deployment environment",id:"1-create-a-new-deployment-environment",level:2},{value:"2. Assign your custom domain for deployment",id:"2-assign-your-custom-domain-for-deployment",level:2},{value:"3. Deploy",id:"3-deploy",level:2},{value:"4. Get the environment infos",id:"4-get-the-environment-infos",level:2}],m={toc:s},u="wrapper";function p(e){let{components:n,...t}=e;return(0,r.kt)(u,(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"The platform provides you test urls running on scaledynamics.site, or scaledynamics.cloud."),(0,r.kt)("p",null,"You can easily connect your custom domains to make your assets live at ",(0,r.kt)("inlineCode",{parentName:"p"},"www.yourcompany.com")," for example."),(0,r.kt)("h2",{id:"1-create-a-new-deployment-environment"},"1. Create a new deployment environment"),(0,r.kt)("p",null,"Before deploying, you need to create a new deployment environment, and start using it. You need to have selected a project before."),(0,r.kt)("p",null,"For example, let's create a ",(0,r.kt)("inlineCode",{parentName:"p"},"prod")," env (use the name you want)."),(0,r.kt)("p",null,"In your asset directory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npx warp env create prod\nnpx warp env select prod\n")),(0,r.kt)("h2",{id:"2-assign-your-custom-domain-for-deployment"},"2. Assign your custom domain for deployment"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"You can only set one custom domain per environment and you can't change it later. If you want to change it, you need to delete the environment and create a new one.")),(0,r.kt)("p",null,"Then we will connect the url of your deployment to that environment. In our case we want to use ",(0,r.kt)("inlineCode",{parentName:"p"},"www.yourcompany.com"),"\nYou need to indicate <container_name> to indicate on which container you want to set the custom domain."),(0,r.kt)("p",null,"To get the list of all container names and associated urls, use the command"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npx warp env info\n")),(0,r.kt)("p",null,"When you get the right <container_name> use "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npx warp env base-url add <container_name> www.yourcompany.com\n")),(0,r.kt)("p",null,"The command will dump something like that"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"Base URL ID 'hosting' with hostname 'www.yourcompany.com' added.\nPlease deploy:\n  - a DNS CNAME record under the name 'xxxxx.www.yourcompany.com' with value 'www.yourcompany.com.scaledynamics.link.' before deploying\n  - a DNS CNAME record under the name 'www.yourcompany.com' with value 'xxxxx.scaledynamics.site.' when you want your URL live\n")),(0,r.kt)("p",null,"Follow the guideline and add those two DNS CNAME records with the value provided in your domain name provider's DNS configuration."),(0,r.kt)("h2",{id:"3-deploy"},"3. Deploy"),(0,r.kt)("p",null,"Now you can deploy as usual."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npx warp deploy\n")),(0,r.kt)("p",null,"After deployment, the command will dump your url ",(0,r.kt)("inlineCode",{parentName:"p"},"https://www.yourcompany.com")," you can access your assets."),(0,r.kt)("h2",{id:"4-get-the-environment-infos"},"4. Get the environment infos"),(0,r.kt)("p",null,"You can get the urls and the DNS records of your environment with the command:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"npx warp env info\n")),(0,r.kt)("p",null,"the command will dump something like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"Name: env-name\nBase URLs:\n  server: www.yourcompany.com (custom)\nDNS Records:\n  Type: 'CNAME' Name: '_acme-challenge.www.yourcompany.com' Value: 'www.yourcompany.com.scaledynamics.link.'\n  Type: 'CNAME' Name: 'www.yourcompany.com' Value: 'xxxxxxxxxxxxxx.scaledynamics.site.'\nDeployments: deployment-2021-12-05T17:22:17.692Z\n")))}p.isMDXComponent=!0}}]);