"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6605],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return m}});var o=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)t=l[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=o.createContext({}),c=function(e){var n=o.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},s=function(e){var n=c(e.components);return o.createElement(u.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,s=a(e,["components","mdxType","originalType","parentName"]),d=c(t),m=r,f=d["".concat(u,".").concat(m)]||d[m]||p[m]||l;return t?o.createElement(f,i(i({ref:n},s),{},{components:t})):o.createElement(f,i({ref:n},s))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=d;var a={};for(var u in n)hasOwnProperty.call(n,u)&&(a[u]=n[u]);a.originalType=e,a.mdxType="string"==typeof e?e:r,i[1]=a;for(var c=2;c<l;c++)i[c]=t[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3602:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return u},default:function(){return m},frontMatter:function(){return a},metadata:function(){return c},toc:function(){return p}});var o=t(7462),r=t(3366),l=(t(7294),t(3905)),i=["components"],a={id:"call-from-browser",title:"Call from browser using a script"},u=void 0,c={unversionedId:"module/call-from-browser",id:"module/call-from-browser",title:"Call from browser using a script",description:"To use the cloud Node.js module from a Browser script, you need first to import the client module that was generated after build. You also need to import the Warp Engine that will provide you access to the functions of the module you want to use in your script.",source:"@site/docs/module/call-from-browser.md",sourceDirName:"module",slug:"/module/call-from-browser",permalink:"/docs/module/call-from-browser",draft:!1,tags:[],version:"current",frontMatter:{id:"call-from-browser",title:"Call from browser using a script"},sidebar:"mainSidebar",previous:{title:"TypeScript support",permalink:"/docs/module/typescript"},next:{title:"Call from browser using HTML",permalink:"/docs/module/call-from-html"}},s={},p=[{value:"Import the client module",id:"import-the-client-module",level:2},{value:"Load Warp engine",id:"load-warp-engine",level:2},{value:"Using <code>loadEngine()</code>",id:"using-loadengine",level:3},{value:"Using an import",id:"using-an-import",level:3},{value:"Get client module functions and use them",id:"get-client-module-functions-and-use-them",level:2},{value:"Full example",id:"full-example",level:2}],d={toc:p};function m(e){var n=e.components,t=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,o.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"To use the cloud Node.js module from a Browser script, you need first to import the client module that was generated after build. You also need to import the Warp Engine that will provide you access to the functions of the module you want to use in your script."),(0,l.kt)("h2",{id:"import-the-client-module"},"Import the client module"),(0,l.kt)("p",null,"In order to use it from HTML, your Node.js module should have been build in ",(0,l.kt)("inlineCode",{parentName:"p"},"umd")," format. "),(0,l.kt)("p",null,"Then you can import it with its path:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import MicroService from './client_module.js'\n")),(0,l.kt)("h2",{id:"load-warp-engine"},"Load Warp engine"),(0,l.kt)("p",null,"Warp engine provides you the way to call functions of your Node.js module using its client. You have 2 ways to load it: using ",(0,l.kt)("inlineCode",{parentName:"p"},"loadEngine")," function or using a Warp engine module dependency. "),(0,l.kt)("h3",{id:"using-loadengine"},"Using ",(0,l.kt)("inlineCode",{parentName:"h3"},"loadEngine()")),(0,l.kt)("p",null,"A client module provides a ",(0,l.kt)("inlineCode",{parentName:"p"},"loadEngine")," function. That function will load the latest compatible release of the Warp engine for the Node.js module build. We recommend using this way because you never have to manage the Warp engine version. "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import MicroService from './client_module.js'\nMicroService.loadEngine().then( ... )\n")),(0,l.kt)("p",null,"or"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import MicroService from './client_module.js'\nasync function start() {\n  await MicroService.loadEngine()\n}\nstart()\n")),(0,l.kt)("h3",{id:"using-an-import"},"Using an import"),(0,l.kt)("p",null,"In case you cannot use or adapt your code to be asynchronous, you can directly import the engine, before requiring the client module. "),(0,l.kt)("p",null,"Of course you need to install it before using it"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sh"},"npm install @warpjs/engine\n")),(0,l.kt)("p",null,"Then requires it"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import('@warpjs/engine')\nimport MicroService from './client_module.js'\n")),(0,l.kt)("p",null,"Note that you have to manage yourself the dependency of the Warp engine that must be compatible with your Node.js module build."),(0,l.kt)("h2",{id:"get-client-module-functions-and-use-them"},"Get client module functions and use them"),(0,l.kt)("p",null,"Now you have loaded the client module and warp engine you can set your functions and call them."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"const { hello } = new MicroService()  \n// Call the function of your Node.js module\nhello('World').then((message) => {  \n  console.log(message)\n})  \n")),(0,l.kt)("h2",{id:"full-example"},"Full example"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-js"},"import MicroService from './client_module.js'\nMicroService.loadEngine().then(()=> {\n  const { hello } = new MicroService()  \n  hello('World').then((message) => {  \n    console.log(message)\n  })  \n})\n")))}m.isMDXComponent=!0}}]);